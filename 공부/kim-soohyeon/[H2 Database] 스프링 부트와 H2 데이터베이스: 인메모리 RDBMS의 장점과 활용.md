# [H2 Database] 스프링 부트와 H2 데이터베이스: 인메모리 RDBMS의 장점과 활용

H2 데이터베이스는 Java로 작성된 오픈 소스 관계형 데이터베이스 관리 시스템(RDBMS)입니다. 주로 테스트 및 개발 환경에서 사용되며, 경량 데이터베이스로서 빠르고 간편하게 설정할 수 있는 것이 큰 장점입니다.

### 관계형 데이터베이스 관리 시스템(RDBMS)이란?

RDBMS는 관계형 데이터베이스 관리 시스템(Relational Database Management System)의 약자로, 데이터를 행(Row)과 열(Column)로 구성된 테이블 형태로 관리하는 데이터베이스 시스템을 의미합니다. RDBMS의 주요 특징은 다음과 같습니다:

1. **테이블 기반 구조**:
    - 데이터는 행과 열로 구성된 테이블에 저장됩니다. 각 테이블은 고유한 이름을 가지며, 서로 관계를 맺을 수 있습니다.
2. **데이터 무결성**:
    - 데이터의 정확성과 일관성을 유지하기 위해 다양한 제약 조건(Primary Key, Foreign Key, Unique, Not Null 등)을 지원합니다.
3. **SQL 지원**:
    - RDBMS는 데이터를 관리하기 위한 표준 언어인 SQL(Structured Query Language)을 사용합니다. SQL을 통해 데이터 검색, 삽입, 수정, 삭제 등의 작업을 수행할 수 있습니다.
4. **트랜잭션 관리**:
    - RDBMS는 ACID(Atomicity, Consistency, Isolation, Durability) 속성을 지원하여, 데이터베이스 트랜잭션의 일관성과 신뢰성을 보장합니다.
    

### H2 데이터베이스의 주요 특징

1. **인메모리 데이터베이스**:
    - **데이터 저장 위치**: H2는 인메모리 모드에서 동작할 수 있으며, 이 모드에서는 데이터가 디스크가 아닌 메모리에 저장됩니다. 애플리케이션이 종료되거나 재실행되면 데이터가 초기화됩니다.
    - **빠른 속도**: 메모리에 데이터를 저장하기 때문에 읽기 및 쓰기 속도가 매우 빠릅니다.
2. **다양한 모드 지원**:
    - **임베디드 모드**: 애플리케이션에 직접 내장되어 사용됩니다. 주로 단일 사용자 애플리케이션이나 테스트 용도로 사용됩니다.
    - **서버 모드**: H2 서버를 통해 여러 클라이언트가 동시에 접근할 수 있습니다. 이는 다중 사용자 환경에서 유용합니다.
    - **혼합 모드**: 인메모리와 디스크 기반의 혼합 모드도 지원하여 유연한 사용이 가능합니다.
3. **표준 SQL 지원**:
    - H2는 SQL-92 표준을 준수하며, 대부분의 관계형 데이터베이스 기능을 제공합니다. 트랜잭션 관리, 다중 테이블 조인, 서브쿼리 등을 지원합니다.
4. **웹 콘솔**:
    - H2는 사용자 친화적인 웹 기반 관리 콘솔을 제공하여 데이터베이스를 쉽게 관리하고 쿼리를 실행할 수 있습니다.
5. **경량성**:
    - H2 데이터베이스는 매우 경량으로, JAR 파일 크기가 작고 메모리 소비도 적습니다.

### 사용 사례

1. **테스트**:
    - 개발자들이 애플리케이션을 테스트할 때, H2는 매우 유용합니다. 설정이 간단하고, 메모리에 데이터가 저장되므로 테스트가 빠르게 실행됩니다.
    - 테스트 환경에서 쉽게 초기화할 수 있어, 테스트 케이스마다 일관된 데이터 상태를 유지할 수 있습니다.
2. **프로토타이핑**:
    - 애플리케이션의 초기 프로토타입을 개발할 때, H2를 사용하면 빠르게 데이터베이스를 구성하고 테스트할 수 있습니다.
3. **교육 및 학습**:
    - 데이터베이스 개념을 배우고 SQL을 연습하기에 적합합니다. 웹 콘솔을 통해 쉽게 쿼리를 실행하고 결과를 확인할 수 있습니다.

### 스프링 부트와의 통합

스프링 부트는 H2 데이터베이스와의 통합을 쉽게 지원합니다. 스프링 부트 애플리케이션의 `application.properties` 파일에 간단한 설정만으로 H2를 사용할 수 있습니다.

```properties
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=true
```

이 설정을 통해 애플리케이션을 실행하면, H2 데이터베이스가 메모리에서 동작하며, H2 콘솔을 통해 데이터베이스 상태를 쉽게 확인할 수 있습니다.

H2 데이터베이스는 그 경량성과 빠른 속도로 인해 테스트와 개발 환경에서 널리 사용되며, 간편한 설정과 사용 편의성으로 많은 개발자들에게 사랑받고 있습니다.
