# [OAuth] 제 3의 서비스에 계정 관리를 맡기는 방식

OAuth는 오늘날 다양한 온라인 서비스에서 널리 사용되는 인증 및 권한 부여 프레임워크입니다. 이를 통해 사용자는 자신의 계정 정보를 직접적으로 공유하지 않고도 다양한 애플리케이션과 서비스를 안전하게 이용할 수 있습니다. 네이버나 구글 로그인을 예로 들 수 있습니다.

OAuth의 기본 개념과 주요 용어, 그리고 권한 부여 코드 승인 타입에 대해 자세히 알아보겠습니다.

### OAuth의 주요 용어

- **리소스 오너(Resource Owner)**: 자신의 정보를 다른 서비스가 사용할 수 있도록 허가하는 주체, 즉 서비스 사용자입니다.
- **리소스 서버(Resource Server)**: 리소스 오너의 정보를 보유하고 보호하는 서버입니다. 예를 들어, 네이버, 구글, 페이스북 등이 있습니다.
- **인증 서버(Authorization Server)**: 클라이언트 애플리케이션에게 리소스 오너의 정보에 접근할 수 있는 토큰을 발급하는 서버입니다.
- **클라이언트 애플리케이션(Client Application)**: 인증 서버로부터 인증을 받고 리소스 오너의 리소스를 사용하는 애플리케이션입니다.

### 리소스 오너 정보 취득 방법

OAuth를 사용하여 리소스 오너의 정보를 취득하는 방법에는 여러 가지가 있습니다:

- **권한 부여 코드 승인 타입(Authorization Code Grant)**
- **암시적 승인 타입(Implicit Grant)**
- **리소스 소유자 암호 자격증명 승인 타입(Resource Owner Password Credentials Grant)**
- **클라이언트 자격증명 승인 타입(Client Credentials Grant)**

이 중에서 권한 부여 코드 승인 타입에 대해 좀 더 자세히 알아보겠습니다.

### 권한 부여 코드 승인 타입 (Authorization Code Grant)

권한 부여 코드 승인 타입은 가장 일반적이고 안전한 OAuth 승인 방식입니다. 이 방식은 클라이언트 애플리케이션이 리소스 오너의 정보를 안전하게 접근할 수 있도록 설계되었습니다. 다음은 권한 부여 코드 승인 타입의 흐름입니다:

1. **사용자 인증 요청**: 클라이언트 애플리케이션은 사용자를 인증 서버로 리디렉션하여 권한 부여를 요청합니다. 이 요청에는 클라이언트 애플리케이션의 ID와 리디렉션 URI가 포함됩니다.
2. **사용자 승인**: 사용자는 인증 서버에서 자신의 자격 증명을 입력하고 클라이언트 애플리케이션에 접근 권한을 부여합니다.
3. **권한 부여 코드 발급**: 사용자가 권한을 부여하면, 인증 서버는 클라이언트 애플리케이션에 권한 부여 코드를 발급하고, 이를 리디렉션 URI를 통해 클라이언트 애플리케이션에 전달합니다.
4. **액세스 토큰 요청**: 클라이언트 애플리케이션은 받은 권한 부여 코드를 사용하여 인증 서버에 액세스 토큰을 요청합니다. 이 요청에는 클라이언트 ID, 클라이언트 시크릿, 권한 부여 코드, 리디렉션 URI가 포함됩니다.
5. **액세스 토큰 발급**: 인증 서버는 요청을 검증하고, 유효한 경우 클라이언트 애플리케이션에 액세스 토큰을 발급합니다.
6. **리소스 서버 접근**: 클라이언트 애플리케이션은 발급받은 액세스 토큰을 사용하여 리소스 서버에 접근하고, 리소스 오너의 보호된 리소스에 접근할 수 있습니다.

이 과정을 통해 클라이언트 애플리케이션은 리소스 오너의 정보를 안전하게 사용하면서도, 리소스 오너의 자격 증명을 직접적으로 다루지 않기 때문에 보안성이 높아집니다.

### 결론

OAuth는 제 3의 서비스에 계정 관리를 맡기면서도 보안성과 편리성을 동시에 제공하는 강력한 프레임워크입니다. 특히 권한 부여 코드 승인 타입은 보안이 중요한 애플리케이션에서 많이 사용됩니다. 이를 통해 사용자는 안전하게 다양한 서비스를 이용할 수 있고, 개발자들은 복잡한 인증 절차를 간소화할 수 있습니다.
