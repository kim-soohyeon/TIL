# DB 옵티마이저와 실행 계획

쿼리문 실행 방법에는 **풀 테이블 스캔(full table scan)** 과 **인덱스 스캔(index scan)** 이 있습니다. DBMS에는 쿼리 **옵티마이저(Optimizer)** 가 존재하며, 주어진 쿼리에 대해 최적의 실행 계획을 세웁니다. DBMS는 쿼리를 최소 비용으로 실행하기 위해 실행 시간을 절약하는 방식을 선택합니다.

---

### 옵티마이저의 동작 방식

1. SQL 쿼리 실행
2. 쿼리를 파싱하여 내부적으로 처리할 수 있는 형태로 변환
3. 쿼리 최적화 수행
4. 실행 계획 수립
5. 최적의 실행 계획을 선택하여 실행

옵티마이저는 주어진 시간 내에 여러 개의 실행 계획을 수립한 후, **가장 비용이 낮은 실행 방식**을 선택합니다. 만약 **인덱스 스캔보다 풀 테이블 스캔이 비용적으로 더 유리하다고 판단**되면, 옵티마이저는 풀 테이블 스캔을 선택할 수도 있습니다.

---

### 힌트(Hint)

DBMS에는 **힌트(Hint)** 라는 기능이 있으며, 이는 **옵티마이저의 실행 계획을 사용자가 직접 변경할 수 있도록 제공하는 옵션**입니다. 힌트를 사용하면 옵티마이저가 자동으로 세운 실행 계획을 무시하고, 사용자가 지정한 방식으로 실행 계획을 수립할 수 있습니다. 그러나 **잘못된 힌트 사용은 오히려 성능을 저하시킬 수 있습니다.** 옵티마이저는 다양한 요소를 고려하여 실행 계획을 수립하므로, **특별한 경우가 아니라면 옵티마이저의 판단을 따르는 것이 더 바람직합니다.**
